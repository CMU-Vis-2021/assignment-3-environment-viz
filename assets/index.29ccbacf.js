import{m as S,c as D,j as _,s as f,o as w,l as G,i as T,a as A,t as k,b as U,d as j,e as O}from"./vendor.0bcb113b.js";const F=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};F();var L=650,N=400,C=1,y=26e4,v=S().center([-96,37]).scale(588).translate([L/2,N/2]);D("assets/firedata.csv").then(d=>{_("assets/geojson/USA.geojson").then(function(s){var i=f("#my_dataviz").append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");const u=function(t,n){i.style("opacity",1)};var e=function(t,n){i.html("Acres burned: "+n.FIRE_SIZE+"<br>Longitude: "+n.LONGITUDE+"<br>Latitude: "+n.LATITUDE+"<br>Cause of fire: "+n.NWCG_GENERAL_CAUSE).style("left",t.x+30+"px").style("top",t.y-30+"px")},r=function(t,n){i.style("opacity",0)},a=f("#my_dataviz").append("svg").attr("width",L).attr("height",N),h=w().domain(["Arson/incendiarism","Equipment and vehicle use","Debris and open burning","Recreation and ceremony","Smoking"]).range(["#F5CBA7","#EB984E","#E67E22","#A04000","#6E2C00"]),o=G().domain([C,y]).range([2,25]);a.append("g").selectAll("path").data(s.features).enter().append("path").attr("fill","#b8b8b8").attr("d",T().projection(v)).style("stroke","black").style("opacity",.3),a.selectAll("myCircles").data(d).enter().append("circle").attr("class",t=>t.NWCG_GENERAL_CAUSE).attr("cx",function(t){return v([t.LONGITUDE,t.LATITUDE])[0]}).attr("cy",function(t){return v([t.LONGITUDE,t.LATITUDE])[1]}).attr("r",function(t){return o(t.FIRE_SIZE)}).style("fill",function(t){return h(t.NWCG_GENERAL_CAUSE)}).attr("stroke",function(t){return h(t.NWCG_GENERAL_CAUSE)}).attr("stroke-width",3).attr("fill-opacity",.4).on("mouseover",u).on("mousemove",e).on("mouseleave",r);function E(){A(".checkbox").each(function(t){let n=f(this),g=n.property("value");n.property("checked")?(console.log("showing group"),console.log(g),a.selectAll("."+g).transition().duration(1e3).style("opacity",1).attr("r",function(I){return o(I.FIRE_SIZE)})):a.selectAll("."+g).transition().duration(1e3).style("opacity",0).attr("r",0)})}A(".checkbox").on("change",E),E();var m=[C,y/2,y],b=50,x=100,p=380;a.selectAll("legend").data(m).enter().append("circle").attr("cx",b).attr("cy",function(t){return p-o(t)}).attr("r",function(t){return o(t)}).style("fill","none").attr("stroke","black"),a.selectAll("legend").data(m).enter().append("line").attr("x1",function(t){return b+o(t)}).attr("x2",x).attr("y1",function(t){return p-o(t)*1.5}).attr("y2",function(t){return p-o(t)*1.5}).attr("stroke","black").style("stroke-dasharray","2,2"),a.selectAll("legend").data(m).enter().append("text").attr("x",x).attr("y",function(t){return p-o(t)*1.5}).text(function(t){return t==y?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" acres":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}).style("font-size",12).attr("alignment-baseline","middle")})});var R=new Date("1993-01-01"),z=new Date("2017-12-31"),B=k("%Y"),W=k("%b %Y");U("%m/%d/%y");var P=f("#slider").append("svg").attr("width",650).attr("height",50),l=j().domain([R,z]).range([0,600]).clamp(!0),c=P.append("g").attr("class","slider").attr("transform","translate("+10+","+50/4+")");c.append("line").attr("class","track").attr("x1",l.range()[0]).attr("x2",l.range()[1]).select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-inset").select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-overlay").call(O().on("start.interrupt",function(){c.interrupt()}).on("start drag",function(){update(l.invert(void 0))}));c.append("g",".track-overlay").attr("class","ticks").attr("transform","translate(0,"+18+")").selectAll("text").data(l.ticks(10)).enter().append("text").attr("x",l).attr("y",10).attr("text-anchor","middle").text(function(d){return B(d)});c.insert("circle",".track-overlay").attr("class","handle").attr("r",9);c.append("text").attr("class","label").attr("text-anchor","middle").text(W(R)).attr("transform","translate(0,"+-25+")");
