import{m as I,c as _,j as G,o as T,S as U,s as f,t as A,a as O,b as j,d as F,l as z,i as P}from"./vendor.752a49ad.js";const W=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}};W();var k=650,L=400,N=1,m=26e4,v=["Debris and open burning","Arson/incendiarism","Equipment and vehicle use","Recreation and ceremony","Misuse of fire by a minor","Smoking","Railroad operations and maintenance","Power generation/transmission/distribution","Fireworks","Other causes","Firearms and explosives use"],h=I().center([-96,37]).scale(588).translate([k/2,L/2]);_("assets/firedata.csv").then(x=>{G("assets/geojson/USA.geojson").then(function(i){var s=T().domain(v).range(U),o=f("#legend").append("svg").attr("width",300).attr("height",300);o.selectAll("legenddots").data(v).enter().append("circle").attr("cx",10).attr("cy",function(t,a){return 10+a*25}).attr("r",7).style("fill",function(t){return s(t)}),o.selectAll("legendlabels").data(v).enter().append("text").attr("x",25).attr("y",function(t,a){return 10+a*25}).style("fill",function(t){return s(t)}).text(function(t){return t}).attr("text-anchor","left").style("alignment-baseline","middle");var e=new Date("2000-01-01"),r=new Date("2018-12-31"),l=A("%Y"),R=A("%b %Y");O("%m/%d/%y");var S=f("#slider").append("svg").attr("width",650).attr("height",50),c=j().domain([e,r]).range([0,600]).clamp(!0),d=S.append("g").attr("class","slider").attr("transform","translate("+10+","+50/4+")");d.append("line").attr("class","track").attr("x1",c.range()[0]).attr("x2",c.range()[1]).select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-inset").select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).attr("class","track-overlay").call(F().on("start.interrupt",function(){d.interrupt()}).on("start drag",function(){update(c.invert(void 0))})),d.append("g",".track-overlay").attr("class","ticks").attr("transform","translate(0,"+18+")").selectAll("text").data(c.ticks(10)).enter().append("text").attr("x",c).attr("y",10).attr("text-anchor","middle").text(function(t){return l(t)}),d.insert("circle",".track-overlay").attr("class","handle").attr("r",9),d.append("text").attr("class","label").attr("text-anchor","middle").text(R(e)).attr("transform","translate(0,"+-25+")");var g=f("#my_dataviz").append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");const C=function(t,a){g.style("opacity",1)};var w=function(t,a){g.html("Acres burned: "+a.FIRE_SIZE+"<br>Longitude: "+a.LONGITUDE+"<br>Latitude: "+a.LATITUDE+"<br>Cause of fire: "+a.NWCG_GENERAL_CAUSE).style("left",t.x+30+"px").style("top",t.y-30+"px")},D=function(t,a){g.style("opacity",0)},u=f("#my_dataviz").append("svg").attr("width",k).attr("height",L),n=z().domain([N,m]).range([2,25]);u.append("g").selectAll("path").data(i.features).enter().append("path").attr("fill","#b8b8b8").attr("d",P().projection(h)).style("stroke","black").style("opacity",.3),u.selectAll("myCircles").data(x.slice(150,650)).enter().append("circle").attr("class",t=>t.NWCG_GENERAL_CAUSE).attr("cx",function(t){return h([t.LONGITUDE,t.LATITUDE])[0]}).attr("cy",function(t){return h([t.LONGITUDE,t.LATITUDE])[1]}).attr("r",function(t){return n(t.FIRE_SIZE)}).style("fill",function(t){return s(t.NWCG_GENERAL_CAUSE)}).attr("stroke",function(t){return s(t.NWCG_GENERAL_CAUSE)}).attr("stroke-width",3).attr("fill-opacity",.4).on("mouseover",C).on("mousemove",w).on("mouseleave",D);var y=[N,m/2,m],b=50,E=100,p=380;u.selectAll("legend").data(y).enter().append("circle").attr("cx",b).attr("cy",function(t){return p-n(t)}).attr("r",function(t){return n(t)}).style("fill","none").attr("stroke","black"),u.selectAll("legend").data(y).enter().append("line").attr("x1",function(t){return b+n(t)}).attr("x2",E).attr("y1",function(t){return p-n(t)*1.5}).attr("y2",function(t){return p-n(t)*1.5}).attr("stroke","black").style("stroke-dasharray","2,2"),u.selectAll("legend").data(y).enter().append("text").attr("x",E).attr("y",function(t){return p-n(t)*1.5}).text(function(t){return t==m?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" acres":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}).style("font-size",12).attr("alignment-baseline","middle")})});
