import{m as L,j as R,s as f,o as k,l as C,i as I,a as h}from"./vendor.8e39a08d.js";const S=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function u(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(r){if(r.ep)return;r.ep=!0;const t=u(r);fetch(r.href,t)}};S();var A=650,_=400,b=1,c=26e4,y=L().center([-96,37]).scale(588).translate([A/2,_/2]);R("assets/geojson/USA.geojson").then(function(m){console.log("IN HERE");var a=f("#my_dataviz").append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");const u=function(e,o){a.style("opacity",1)};var l=function(e,o){a.html(o.FIRE_SIZE+"<br>long: "+o.LONGITUDE+"<br>lat: "+o.LATITUDE).style("left",e.x+30+"px").style("top",e.y-30+"px")},r=function(e,o){a.style("opacity",0)},t=f("#my_dataviz").append("svg").attr("width",A).attr("height",_),i=k().domain(["arson_incendiarism","debris_and_open_burning","equipment_and_vehicle_use","power_generation","recreation_and_ceremony"]).range(["#F5CBA7","#EB984E","#E67E22","#A04000","#6E2C00"]),n=C().domain([b,c]).range([2,25]);t.append("g").selectAll("path").data(m.features).enter().append("path").attr("fill","#b8b8b8").attr("d",I().projection(y)).style("stroke","black").style("opacity",.3),t.selectAll("myCircles").data(markers).enter().filter(function(e){return e.NWCG_GENERAL_CAUSE=="Arson/incendiarism"||e.NWCG_GENERAL_CAUSE=="Equipment and vehicle use"||e.NWCG_GENERAL_CAUSE=="Recreation and ceremony"}).append("circle").attr("class",e=>e.CAUSE__ABRV).attr("cx",function(e){return y([e.LONGITUDE,e.LATITUDE])[0]}).attr("cy",function(e){return y([e.LONGITUDE,e.LATITUDE])[1]}).attr("r",function(e){return n(e.FIRE_SIZE)}).style("fill",function(e){return i(e.CAUSE__ABRV)}).attr("stroke",function(e){return i(e.CAUSE__ABRV)}).attr("stroke-width",3).attr("fill-opacity",.4).on("mouseover",u).on("mousemove",l).on("mouseleave",r);function g(){h(".checkbox").each(function(e){let o=f(this),p=o.property("value");o.property("checked")?(console.log("showing group"),console.log(p),t.selectAll("."+p).transition().duration(1e3).style("opacity",1).attr("r",function(x){return n(x.FIRE_SIZE)})):t.selectAll("."+p).transition().duration(1e3).style("opacity",0).attr("r",0)})}h(".checkbox").on("change",g),g();var d=[b,c/2,c],v=50,E=100,s=380;t.selectAll("legend").data(d).enter().append("circle").attr("cx",v).attr("cy",function(e){return s-n(e)}).attr("r",function(e){return n(e)}).style("fill","none").attr("stroke","black"),t.selectAll("legend").data(d).enter().append("line").attr("x1",function(e){return v+n(e)}).attr("x2",E).attr("y1",function(e){return s-n(e)*1.5}).attr("y2",function(e){return s-n(e)*1.5}).attr("stroke","black").style("stroke-dasharray","2,2"),t.selectAll("legend").data(d).enter().append("text").attr("x",E).attr("y",function(e){return s-n(e)*1.5}).text(function(e){return e==c?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" acres":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}).style("font-size",12).attr("alignment-baseline","middle")});
