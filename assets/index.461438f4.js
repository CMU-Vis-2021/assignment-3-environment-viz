import{m as C,j as T,s as d,o as k,l as B,i as w,a as p}from"./vendor.8e39a08d.js";const U=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function f(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(r){if(r.ep)return;r.ep=!0;const t=f(r);fetch(r.href,t)}};U();var L=650,R=400,v="2000",S=1,y=26e4,E=C().center([-96,37]).scale(588).translate([L/2,R/2]);T("assets/geojson/USA.geojson").then(function(h){console.log("IN HERE");var n=d("#my_dataviz").append("div").attr("class","tooltip").style("opacity",0).style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");const f=function(e,o){n.style("opacity",1),n.style("display","block")};var c=function(e,o){n.html(o.FIRE_SIZE+"<br>Category: "+o.CAUSE__ABRV+"<br>long: "+o.LONGITUDE+"<br>lat: "+o.LATITUDE).style("left",e.x+30+"px").style("top",e.y-30+"px")},r=function(e,o){n.style("opacity",0),n.style("display","none")},t=d("#my_dataviz").append("svg").attr("width",L).attr("height",R),l=k().domain(["arson_incendiarism","debris_and_open_burning","equipment_and_vehicle_use","power_generation","recreation_and_ceremony"]).range(["#F5CBA7","#EB984E","#E67E22","#A04000","#6E2C00"]),a=B().domain([S,y]).range([2,25]);t.append("g").selectAll("path").data(h.features).enter().append("path").attr("fill","#b8b8b8").attr("d",w().projection(E)).style("stroke","black").style("opacity",.3),console.log(markers),t.selectAll("myCircles").data(markers).enter().append("circle").attr("class",e=>"year"+e.FIRE_YEAR+" dataCircles "+e.CAUSE__ABRV+""+e.FIRE_YEAR).attr("cx",function(e){return E([e.LONGITUDE,e.LATITUDE])[0]}).attr("cy",function(e){return E([e.LONGITUDE,e.LATITUDE])[1]}).attr("r",function(e){return a(e.FIRE_SIZE)}).style("fill",function(e){return l(e.CAUSE__ABRV)}).attr("stroke",function(e){return l(e.CAUSE__ABRV)}).attr("stroke-width",3).attr("fill-opacity",.4).on("mouseover",f).on("mousemove",c).on("mouseleave",r);function b(){p(".slider").each(function(e){let i=d(this).property("value"),g="year"+i;v=i;let I=document.getElementsByClassName("button");for(let s=0;s<=I.length-1;s++)I[s].classList.remove("active");t.selectAll(".dataCircles").transition().duration(1e3).style("opacity",0).attr("r",0),t.selectAll("."+g).transition().duration(1e3).style("opacity",1).attr("r",function(s){return a(s.FIRE_SIZE)})})}function x(){p(".button").each(function(e){let i=d(this).property("value");console.log(this.classList.contains("active")),this.classList.contains("active")!=!0?(console.log("NOT SELECTED"),t.selectAll("."+i+""+v).transition().duration(1e3).style("opacity",0).attr("r",0)):(console.log("SELECTED"),t.selectAll("."+i+""+v).transition().duration(1e3).style("opacity",1).attr("r",function(g){return a(g.FIRE_SIZE)}))})}p(".slider").on("change",b),p(".button").on("click",x),b();var m=[S,y/2,y],A=50,_=100,u=380;t.selectAll("legend").data(m).enter().append("circle").attr("cx",A).attr("cy",function(e){return u-a(e)}).attr("r",function(e){return a(e)}).style("fill","none").attr("stroke","black"),t.selectAll("legend").data(m).enter().append("line").attr("x1",function(e){return A+a(e)}).attr("x2",_).attr("y1",function(e){return u-a(e)*1.5}).attr("y2",function(e){return u-a(e)*1.5}).attr("stroke","black").style("stroke-dasharray","2,2"),t.selectAll("legend").data(m).enter().append("text").attr("x",_).attr("y",function(e){return u-a(e)*1.5}).text(function(e){return e==y?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" acres":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}).style("font-size",12).attr("alignment-baseline","middle")});var N=document.getElementById("yearShown");myRange.oninput=function(){N.innerHTML=this.value};
